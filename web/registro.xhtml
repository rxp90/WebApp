<?xml version='1.0' encoding='UTF-8' ?> <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
    template="/WEB-INF/templates/layout.xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core">
    <ui:define name="content">
        <h:form id="formRegistro" rendered="#{userControllerBean.loggedIn}">
            <fieldset class="control-group">
                <legend>Crear usuario</legend> 
                <h:panelGroup id="userPanel" layout="block" styleClass="#{(!userInput.valid) ?'control-group error':''}">
                    <h:outputLabel value="User" for="userInput"/>
                    <div class="controls">
                        <div class="input-prepend">
                            <span class="add-on"><i class="icon-user"></i></span>         
                            <h:inputText binding="#{userInput}" value="#{registroBean.user}" id="userInput" class="span3"/>
                        </div>
                        <h:message class="help-inline" for="userInput"/>
                    </div>
                </h:panelGroup>

                <h:panelGroup id="passwordPanel" layout="block" styleClass="#{(!passwordInput.valid) ?'control-group error':''}">
                    <h:outputLabel value="Password" for="passwordInput"/>
                    <div class="controls">
                        <div class="input-prepend">
                            <span class="add-on"><i class="icon-certificate"></i></span>         
                            <h:inputSecret binding="#{passwordInput}" value="#{registroBean.password}" id="passwordInput" class="span3"/>
                        </div>
                        <h:message class="help-inline" for="passwordInput"/>
                    </div>
                </h:panelGroup>

                <h:panelGroup id="nombrePanel" layout="block" styleClass="#{(!nombreInput.valid) ?'control-group error':''}">
                    <h:outputLabel value="Nombre" for="nombreInput"/>
                    <div class="controls">
                        <div class="input-prepend">
                            <span class="add-on"><i class="icon-info-sign"></i></span>         
                            <h:inputText binding="#{nombreInput}" class="span3" value="#{registroBean.nombre}" id="nombreInput"/>
                        </div>
                        <h:message class="help-inline" for="nombreInput"/>
                    </div>
                </h:panelGroup>

                <h:panelGroup id="emailPanel" layout="block" styleClass="#{(!emailInput.valid) ?'control-group error':''}">
                    <h:outputLabel value="Email" for="emailInput"/>
                    <div class="controls">
                        <div class="input-prepend">
                            <span class="add-on"><i class="icon-envelope"></i></span>         
                            <h:inputText binding="#{emailInput}" value="#{registroBean.email}" id="emailInput" class="span3"/>
                        </div>
                        <h:message class="help-inline" for="emailInput"/>
                    </div>
                </h:panelGroup>
             
                <h:panelGroup id="bajaPanel" layout="block" styleClass="#{(!bajaInput.valid) ?'control-group error':'control-group'}">
                    <div class="controls">
                        <div class="checkbox inline">             
                            <h:outputLabel value="Baja" for="bajaInput"/>
                            <h:selectBooleanCheckbox binding="#{bajaInput}" value="#{registroBean.baja}" id="bajaInput"/>
                        </div>
                        <h:message class="help-inline" for="bajaInput"/>
                    </div>
                </h:panelGroup>
                <h:panelGroup id="adminPanel" layout="block" styleClass="#{(!adminInput.valid) ?'control-group error':'control-group'}">
                    <div class="controls">
                        <div class="checkbox inline">         
                            <h:outputLabel value="Administrador" for="adminInput"/>
                            <h:selectBooleanCheckbox binding="#{adminInput}" value="#{registroBean.administrador}" id="adminInput"/>
                        </div>
                        <h:message class="help-inline" for="adminInput"/>
                    </div>
                </h:panelGroup>
            </fieldset>
            <h:commandButton type="submit" class="btn" action="#{registroBean.registrarse()}" value="Submit"/>
        </h:form>
    </ui:define>
</ui:composition>
